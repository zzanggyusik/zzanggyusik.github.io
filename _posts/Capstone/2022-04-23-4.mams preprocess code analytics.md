---
title:  "[Capstone] MAMS for ABSA 전처리 코드 분석"
excerpt: "MAMS for ABSA 코드 리뷰"
toc: true
toc_label: "Capstone"
toc_sticky: true
published: true

categories:
  - Capstone
tags:
  - PyTorch
last_modified_at: 2022-04-23

---

> [이전에 리뷰한 논문](https://seominseok4834.github.io/paper%20review/1.a-challenge-dataset-and-effective-models-for-aspect-based-sentiment-analysis/)에서 구현한 모델을 캡스톤 디자인 프로젝트에 적용하기 위해 전처리 부분 코드를 분석한 내용입니다.
>
> 모든 코드는 [MAMS-for-ABSA github](https://github.com/siat-nlp/MAMS-for-ABSA)에서 가져왔습니다.

<br>

디렉토리 구조

<details>
<summary>접기/펼치기 버튼</summary>
<div markdown="1">
```bash
.
├── LICENSE
├── README.md
├── config.yml
├── data
│   ├── MAMS-ACSA
│   │   └── raw
│   │       ├── test.xml
│   │       ├── train.xml
│   │       └── val.xml
│   ├── MAMS-ATSA
│   │   ├── log
│   │   │   └── log.yml
│   │   ├── processed
│   │   │   ├── glove.npy
│   │   │   ├── index2word.pickle
│   │   │   ├── sentiment_matrix.npy
│   │   │   ├── test.npz
│   │   │   ├── train.npz
│   │   │   ├── val.npz
│   │   │   └── word2index.pickle
│   │   └── raw
│   │       ├── test.xml
│   │       ├── train.xml
│   │       └── val.xml
│   ├── glove.840B.300d.txt
│   └── sentiment_dict.json
├── data_process
│   ├── __pycache__
│   │   ├── data_process.cpython-39.pyc
│   │   ├── dataset.cpython-39.pyc
│   │   ├── utils.cpython-39.pyc
│   │   └── vocab.cpython-39.pyc
│   ├── data_process.py
│   ├── dataset.py
│   ├── utils.py
│   └── vocab.py
├── glove.840B.300d.txt
├── preprocess.py
├── src
│   ├── aspect_category_model
│   │   ├── __pycache__
│   │   │   ├── bert_capsnet.cpython-39.pyc
│   │   │   ├── capsnet.cpython-39.pyc
│   │   │   └── recurrent_capsnet.cpython-39.pyc
│   │   ├── bert_capsnet.py
│   │   ├── capsnet.py
│   │   └── recurrent_capsnet.py
│   ├── aspect_term_model
│   │   ├── __pycache__
│   │   │   ├── bert_capsnet.cpython-39.pyc
│   │   │   ├── capsnet.cpython-39.pyc
│   │   │   └── recurrent_capsnet.cpython-39.pyc
│   │   ├── bert_capsnet.py
│   │   ├── capsnet.py
│   │   └── recurrent_capsnet.py
│   └── module
│       ├── attention
│       │   ├── __pycache__
│       │   │   ├── attention.cpython-39.pyc
│       │   │   ├── bilinear_attention.cpython-39.pyc
│       │   │   ├── concat_attention.cpython-39.pyc
│       │   │   ├── dot_attention.cpython-39.pyc
│       │   │   ├── mlp_attention.cpython-39.pyc
│       │   │   ├── scaled_dot_attention.cpython-39.pyc
│       │   │   ├── tanh_bilinear_attention.cpython-39.pyc
│       │   │   └── tanh_concat_attention.cpython-39.pyc
│       │   ├── attention.py
│       │   ├── bilinear_attention.py
│       │   ├── concat_attention.py
│       │   ├── dot_attention.py
│       │   ├── mlp_attention.py
│       │   ├── multi_head_attention.py
│       │   ├── no_query_attention.py
│       │   ├── scaled_dot_attention.py
│       │   ├── tanh_bilinear_attention.py
│       │   └── tanh_concat_attention.py
│       └── utils
│           ├── __pycache__
│           │   ├── constants.cpython-39.pyc
│           │   ├── loss.cpython-39.pyc
│           │   ├── sentence_clip.cpython-39.pyc
│           │   └── squash.cpython-39.pyc
│           ├── constants.py
│           ├── loss.py
│           ├── sentence_clip.py
│           └── squash.py
├── test.py
├── train
│   ├── __init__.py
│   ├── __pycache__
│   │   ├── __init__.cpython-39.pyc
│   │   ├── eval.cpython-39.pyc
│   │   ├── make_aspect_category_model.cpython-39.pyc
│   │   ├── make_aspect_term_model.cpython-39.pyc
│   │   ├── make_data.cpython-39.pyc
│   │   ├── make_optimizer.cpython-39.pyc
│   │   └── train.cpython-39.pyc
│   ├── eval.py
│   ├── make_aspect_category_model.py
│   ├── make_aspect_term_model.py
│   ├── make_data.py
│   ├── make_optimizer.py
│   ├── test.py
│   └── train.py
└── train.py
```

</div>
</details>

![스크린샷 2022-04-23 오전 11 36 13](https://user-images.githubusercontent.com/76269316/164867294-7942b1dc-8efd-4101-9a3a-f9021db304b0.png)

Quick Start 가이드처럼 /preprocess.py를 실행하면 configuration 파일(환경 설정 파일)을 로드한 뒤 모든 전처리 함수를 호출하는 data_process를 실행합니다.

preprocess.py

```python
import yaml
from data_process.data_process import data_process

config = yaml.safe_load(open('config.yml'))

data_process(config)
```
